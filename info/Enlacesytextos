I'll paste you again all the code: 

server/
├─ controllers/
│  ├─ photo.controller.js
├─  models/
│  ├─ photo.js
├─ routes/
│  ├─ preguntas.routes.js
├─ database.js
├─ index.js

This is the content of every file 

PHOTO.CONTROLLER.JS:

const Photo = require('../models/photo');

const photoCtrl = {}

photoCtrl.getPrueba = (req, res) => {
    res.json({
        status: 'Photos goes here'
    });
}

photoCtrl.getCityPhoto = async (req, res) => {
   const photo = await Photo.find({ city: "Paris"});
   console.log(photo);
   res.json(photo);  
}

photoCtrl.getYearPhoto = (req, res) => {
    
}

module.exports = photoCtrl;

ENDOFFILE

PHOTO.JS

const mongoose = require('mongoose');
const { Schema } = mongoose;

const PhotoSchema = new Schema({
    name: {type: String, required: true},
    city: {type: String, required: false},
    year: {type: String, required: false},
    yearOptions: {type: [String], required: false},
    cityOptions: {type: [String], required: false}
});

module.exports = mongoose.model('Photo', PhotoSchema);

ENDOFFILE

PREGUNTAS.ROUTES.JS

const express = require('express');
const router = express.Router();

const photo = require('../controllers/photo.controller');

router.get('/helloWorld', (req, res) => {
    res.send('Hello World!');
})

router.get('/', photo.getPrueba);
router.get('/city', photo.getCityPhoto);
router.get('/year', photo.getYearPhoto);

module.exports = router;

ENDOFFILE

DATABASE.JS

const mongoose = require('mongoose');

const URI = 'mongodb://localhost/nuevaprueba';

mongoose.connect(URI)
    .then(db => console.log('DB is connected'))
    .catch(err => console.error(err));

module.exports = mongoose;

ENDOFFILE

INDEX.JS

const express = require('express');
const morgan = require('morgan');
const app = express();

const { mongoose } = require('./database');

// Settings 
app.set('port', process.env.PORT || 3000);

// Middlewares
app.use(morgan('tiny')); //'Combined' para log largo
app.use(express.json());

// Routes
app.use('/api',require('./routes/preguntas.routes'));

// Starting the server
app.listen(app.get('port'), () => {
	console.log('Server en ' + app.get('port') + '...');
});

ENDOFFILE

In MongoDB the collection I am using in the database "nuevaprueba" is "called "photos" What should I modify in my server code in order to reference the collection?


FECHAS

https://www.chronophoto.app/game.html

API GOOGLE

https://www.youtube.com/watch?v=HtLfFlqyiIs


CHATGPT, MONGO:

Before you can get the expected response from your server, you need to insert some data into your MongoDB database. Assuming that you have the necessary dependencies installed (express, mongoose, morgan), you can follow these steps to launch your server and insert the required data into the database:

Open a terminal window and navigate to the root directory of your server project.
Start the MongoDB daemon by running the command sudo systemctl start mongod (Linux) or brew services start mongodb-community (macOS using Homebrew) or by starting the mongod process directly using the appropriate command for your system.
Launch your server by running the command node index.js in the same terminal window. You should see the message "Server en 3000..." indicating that your server is listening for incoming requests on port 3000.
Open a new terminal window and navigate to the root directory of your server project.
Start the MongoDB shell by running the command mongo.
Switch to the nuevaprueba database by running the command use nuevaprueba.
Insert a new photo document into the photos collection by running the command db.photos.insertOne({name: "1968.jpg", city: "Paris", year: "1968", yearOptions: ["1965", "1950", "1973"], cityOptions: ["Paris", "London", "New York"]}).
Verify that the document was inserted correctly by running the command db.photos.find({city: "Paris"}). You should see the document that you just inserted in the output.
After completing these steps, you can go to the browser of your computer, type "localhost:3000/api/city", and you should get the following response: [{ "_id" : ObjectId("***RANDOMNUMBER***"), "name" : "1968.jpg", "city" : "Paris", "year" : "1968", "yearOptions" : [ "1965", "1950", "1973" ], "cityOptions" : [ "Paris", "London", "New York" ] }].





User
Can I use "mongo" instead of "mongod"?
ChatGPT
No, you cannot use mongo instead of mongod.

mongod is the command to start the MongoDB daemon (i.e., the MongoDB server), which runs in the background and listens for connections from client applications like the mongo shell.

mongo, on the other hand, is the command-line interface for the MongoDB shell, which is a JavaScript-based interactive interface to the MongoDB server.

So, if you want to start the MongoDB server and listen for connections, you need to use the mongod command. Once the server is running, you can connect to it using the mongo shell or any other client application that supports the MongoDB protocol.
